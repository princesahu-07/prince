<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Birthday Surprise Card</title>

<!-- Poppins -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --peach:#ffe5d4;
    --title:#c05b4d;
    --btn:#ff9f8c;
    --card-shadow: rgba(230,154,138,0.45);
    --pastel-pink:#ffd8e8;
    --pastel-purple:#cdb7ff;
  }

  /* Reset + prevent horizontal scroll (fix for content shifting left) */
  *{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
  html,body{ height:100%; margin:0; padding:0; background:var(--peach); font-family:"Poppins",system-ui,Segoe UI,Roboto,"Helvetica Neue",Arial; -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale; overflow-x:hidden; }

  /* Pages */
  .page{ display:none; height:100vh; width:100vw; padding:28px 22px; position:relative; overflow:hidden; text-align:center; }
  .active{ display:block; }

  /* global decorative layer behind content */
  .global-decor { position:absolute; inset:0; z-index:0; pointer-events:none; }

  h1{ color:var(--title); font-size:34px; margin:6px 0 8px; font-weight:700; position:relative; z-index:3; }
  .emoji{ font-size:56px; margin-bottom:10px; position:relative; z-index:3; }

  .card-box{ background:#fff; margin:18px auto; padding:18px; border-radius:14px; max-width:820px; box-shadow:0 12px 30px var(--card-shadow); text-align:center; position:relative; z-index:4; }
  .btn{ background:var(--btn); border:none; color:#fff; padding:12px 24px; border-radius:14px; font-size:18px; cursor:pointer; }

  .subtitle{ color:#975044; font-size:18px; margin-bottom:12px; position:relative; z-index:3; }

  /* HEART RAIN (first slide) */
  .heart-rain{ position:absolute; inset:0; pointer-events:none; z-index:2; overflow:hidden; }
  .heart{ position:absolute; top:-5%; will-change:transform,opacity; animation-name:fall,sway,fadeInSmall; animation-timing-function:linear,ease-in-out,ease-in; animation-iteration-count:infinite,infinite,1; }

  @keyframes fall{ to{ transform: translateY(120vh); } }
  @keyframes sway{ 0%{ transform:translateX(0) } 50%{ transform:translateX(12px) } 100%{ transform:translateX(0) } }
  @keyframes fadeInSmall{ from{ opacity:0; transform:scale(.9) } to{ opacity:.95; transform:scale(1) } }

  .muted-medium{ font-size:20px; color:var(--pastel-purple); font-weight:600; margin-top:6px; position:relative; z-index:3; }

  .pastel-pink-desc{ background:var(--pastel-pink); padding:14px; border-radius:12px; display:inline-block; text-align:left; color:#6b2f38; font-size:17px; max-width:820px; margin-top:14px; position:relative; z-index:4; }

  /* cursive paragraph for slide 4 */
  .cursive {
    font-family: "Brush Script MT", "Lucida Handwriting", "Segoe Script", cursive, serif;
    font-size:18px;
    color:#000;
    text-align:left;
    line-height:1.6;
    white-space:pre-wrap;
    position:relative;
    z-index:4;
  }

  /* decoration items (emoji) used across the page */
  .decor-item {
    position:absolute;
    pointer-events:none;
    user-select:none;
    transform-origin:center center;
    will-change:transform,opacity;
  }

  @media(max-width:600px){
    h1{ font-size:26px; }
    .emoji{ font-size:44px; }
  }
</style>
</head>
<body>

<!-- Decorations layer -->
<div id="decorLayer" class="global-decor" aria-hidden="true"></div>

<!-- PAGE 1 -->
<div id="page1" class="page active">
  <div class="heart-rain" id="heartRain"></div>

  <div class="emoji" aria-hidden="true">ğŸˆğŸ‰ğŸŒ¸ğŸ‚</div>
  <h1 id="title">Wishing You Happpiii Birthdayyyy Nidhi ğŸˆ</h1>

  <p class="subtitle content-on-top">A little surprise waiting for you. Hope you'll like it.</p>

  <div class="card-box content-on-top">
    <p style="margin:6px 0 12px 0;">Open the surprise and enjoy âœ¨</p>
    <button class="btn" onclick="nextPage()">Open Surprise ğŸ</button>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="page">
  <div class="content-on-top">
    <h1>Just For You ğŸ’ğŸ‚</h1>

    <div class="muted-medium">Congratulations on your 19 or 20th birthday, I don't know your real age, so kindly adjust it ğŸ˜…</div>

    <div class="pastel-pink-desc card-box">
      May your birthday be sprinkled with warm sunshine, easy giggles, and those soft little smiles that show up without warning and make your whole day glow. And may this special day whisper to you gently but adorably that the world feels a tiny bit sweeter just because youâ€™re in it. ğŸ’›
    </div>

    <button class="btn" style="margin-top:14px;" onclick="nextPage()">Next âœ</button>
  </div>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page">
  <div class="emoji">ğŸ§™ğŸ»ğŸ¤ğŸ»</div>
  <h1>Make a Wish âœ¨</h1>

  <div class="card-box content-on-top" style="text-align:left;">
    <p style="font-weight:600; margin-bottom:10px;">I may not know what youâ€™re wishing for, but I really hope the thing your heart is asking for reaches you soon. ğŸŒ·</p>

    <p style="margin:0 0 12px 0;">
      Close your eyes for a moment and make a small wish, the kind that quietly sits in your heart. Let it float out into the world, nice and easy. And I really hope it finds you today, in the simplest, sweetest wayâ€¦ and keeps bringing little moments of happiness your way for a long, long time. ğŸ¤ğŸ»ğŸ©·
    </p>

    <div style="text-align:center;"><button class="btn" onclick="nextPage()">Next âœ</button></div>
  </div>
</div>

<!-- PAGE 4 -->
<div id="page4" class="page">
  <div class="emoji">ğŸ’Œ</div>
  <h1>This is a small message from me ğŸ’Œ</h1>

  <div class="card-box content-on-top" style="text-align:left;">
    <p class="cursive">
First of all, a very happy, happy birthday to you, Nidhi. Youâ€™ve probably forgotten me by now, but this is just a small gift from my side, something I hope brings a little smile to your face. I wonâ€™t say much, but wherever you are, I genuinely wish you happiness. Enjoy your special dayâ€¦ and your life too. I didnâ€™t add any photos of us because we donâ€™t really have any special pictures or memories together, and I even thought about taking a picture from your Instagram, but it felt like invading your privacy, so I chose not to. I just hope youâ€™ll like this small gesture, and even if we donâ€™t talk much anymore, I still wish that kindness and good things keep finding you. Take care, and have a beautiful birthday. ^_^
    </p>

    <p style="text-align:center; font-weight:700; margin-top:12px;">Once again Happy Birthday Nidhi ğŸ©·</p>
  </div>
</div>

<script>
/* name param */
const params = new URLSearchParams(window.location.search);
const name = params.get('name') || 'Nidhi';
document.getElementById('title').innerText = `Wishing You Happpiii Birthdayyyy ${name} ğŸˆ`;

/* page control */
let page = 1;
function nextPage(){
  if(page === 1) stopHeartRain();
  document.getElementById('page' + page).classList.remove('active');
  page++;
  if(!document.getElementById('page' + page)) page = 4;
  document.getElementById('page' + page).classList.add('active');
}

/* Heart rain on first slide */
const heartContainer = document.getElementById('heartRain');
let heartInterval = null;
const heartEmojis = ['ğŸ’œ','ğŸ’›','ğŸ’™','â¤','ğŸ’š'];

function randomBetween(min,max){ return Math.random()*(max-min)+min; }

function createHeart(){
  const s = document.createElement('span');
  s.className = 'heart';
  s.innerText = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
  // keep hearts inside viewport using % and translate
  const leftPct = randomBetween(5,95);
  s.style.left = leftPct + 'vw';
  const size = Math.floor(randomBetween(16,32));
  s.style.fontSize = size + 'px';
  const duration = randomBetween(10,20); // slower
  s.style.animationDuration = `${duration}s, ${randomBetween(3,6)}s, 0.6s`;
  s.style.opacity = (randomBetween(.75,1)).toString();
  s.style.zIndex = 2; // above background, below cards
  heartContainer.appendChild(s);
  setTimeout(()=>{ if(s && s.parentNode) s.remove(); }, (duration+1)*1000);
}

function startHeartRain(){
  for(let i=0;i<8;i++) setTimeout(createHeart, i*300);
  if(!heartInterval){
    heartInterval = setInterval(()=>{
      const n = Math.random()>0.6 ? 2 : 1;
      for(let i=0;i<n;i++) createHeart();
    }, 700);
  }
}
function stopHeartRain(){
  if(heartInterval){ clearInterval(heartInterval); heartInterval = null; }
  document.querySelectorAll('#heartRain .heart').forEach(h=>h.remove());
}
window.addEventListener('load', ()=>{
  if(document.getElementById('page1').classList.contains('active')) startHeartRain();
});

/* Global decorative background across all pages (chocolate, balloons, hearts).
   Improvements:
   - Use percentage positions and translate(-50%,-50%) to avoid pushing layout off-screen.
   - Increased opacity range so items are more visible.
   - Added clustering across the whole page and resized on window resize.
*/
const decorChars = ['ğŸ«','ğŸˆ','â¤ï¸','ğŸ’š','ğŸ’™','ğŸ’œ','ğŸ’›'];
const decorLayer = document.getElementById('decorLayer');

function addDecor(count = 40){
  decorLayer.innerHTML = '';
  for(let i=0;i<count;i++){
    const el = document.createElement('div');
    el.className = 'decor-item';
    const left = Math.random() * 100; // percent
    const top = Math.random() * 100;  // percent
    el.style.left = left + '%';
    el.style.top = top + '%';
    el.style.transform = 'translate(-50%,-50%) rotate(' + (Math.floor(Math.random()*60)-30) + 'deg)';
    // visible sizes but not overpowering
    const size = Math.floor(Math.random()*46) + 22; // 22 - 68 px
    el.style.fontSize = size + 'px';
    // increased opacity so decorations are visible but still soft
    el.style.opacity = (Math.random() * 0.25 + 0.18).toString(); // 0.18 - 0.43
    el.style.zIndex = 0;
    el.innerText = decorChars[Math.floor(Math.random()*decorChars.length)];
    decorLayer.appendChild(el);
  }
}

// initial call and on resize
addDecor(44);
window.addEventListener('resize', ()=> addDecor(44));

/* ensure no element keeps focus (avoid outlines / accidental scroll focus) */
window.addEventListener('click', ()=>{ document.activeElement && document.activeElement.blur && document.activeElement.blur(); });

</script>
</body>
</html>

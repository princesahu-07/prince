<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Surprise for you</title>

<!-- Poppins -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
  :root{
    --peach:#ffe5d4;
    --title:#c05b4d;
    --btn:#ff9f8c;
    --pastel-pink:#ffd8e8;
    --pastel-purple:#cdb7ff;
  }

  *{ box-sizing:border-box; -webkit-tap-highlight-color: transparent; }
  html,body{
    height:100%; margin:0; padding:0;
    background:var(--peach);
    font-family:"Poppins",sans-serif;
    overflow-x:hidden;
  }

  .page{
    display:none;
    height:100vh;
    width:100vw;
    padding:24px 18px;
    position:relative;
    overflow:hidden;
    text-align:center;
  }
  .active{ display:block; }

  .global-decor{
    position:absolute;
    inset:0;
    z-index:0;
    pointer-events:none;
  }

  h1{
    color:var(--title);
    font-size:34px;
    font-weight:700;
    margin:8px 0 10px;
    position:relative;
    z-index:3;
  }

  .emoji{
    font-size:56px;
    margin-bottom:8px;
    position:relative;
    z-index:3;
  }

  .card-box{
    background:rgba(255,255,255,0.98);
    max-width:880px;
    width:min(94%,820px);
    padding:18px;
    margin:16px auto;
    border-radius:14px;
    box-shadow:0 18px 36px rgba(0,0,0,0.08);
    text-align:center;
    position:relative;
    z-index:4;
    word-break:break-word;
    hyphens:none;
  }

  .btn{
    background:var(--btn);
    border:none;
    color:#fff;
    padding:12px 22px;
    border-radius:14px;
    font-size:18px;
    cursor:pointer;
  }

  .subtitle{
    color:#975044;
    font-size:18px;
    margin:0 auto 12px;
    max-width:900px;
    line-height:1.4;
    position:relative;
    z-index:3;
  }

  /* CONFETTI + HEART RAIN LAYERS */
  .layer-confetti {
    position:absolute;
    inset:0;
    z-index:2; /* under cards (z-index 4) but above background (z-index 0) */
    pointer-events:none;
    overflow:hidden;
  }

  .falling {
    position:absolute;
    top:-8%;
    will-change:transform,opacity;
    display:inline-block;
    transform-origin:center;
    /* animation combined: fall and sway and fade-in */
    animation-name:fallDown, swayX, fadeInFast;
    animation-iteration-count:1, infinite, 1;
    animation-timing-function: linear, ease-in-out, ease-in;
  }

  @keyframes fallDown {
    to { transform: translateY(120vh) rotate(360deg); }
  }
  @keyframes swayX {
    0% { transform: translateX(0px); }
    50% { transform: translateX(18px); }
    100% { transform: translateX(0px); }
  }
  @keyframes fadeInFast {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  /* small heart-rain backup (previous) */
  .heart-rain{ position:absolute; inset:0; overflow:hidden; z-index:2; pointer-events:none; }
  .heart{ position:absolute; top:-5%; will-change:transform,opacity; animation-name:fall,sway,fadeInSmall; animation-iteration-count:infinite,infinite,1; animation-timing-function:linear,ease-in-out,ease-in; }
  @keyframes fall{ to{ transform:translateY(120vh);} }
  @keyframes sway{ 0%{ transform:translateX(0);} 50%{ transform:translateX(12px);} 100%{ transform:translateX(0);} }
  @keyframes fadeInSmall{ from{ opacity:0; transform:scale(.9);} to{ opacity:.95; transform:scale(1);} }

  .muted-medium{
    font-size:20px;
    color:var(--pastel-purple);
    font-weight:600;
    margin-top:6px;
    z-index:3;
    position:relative;
  }

  .pastel-pink-desc{
    background:var(--pastel-pink);
    padding:14px;
    border-radius:12px;
    text-align:left;
    font-size:17px;
    color:#6b2f38;
    max-width:820px;
    margin-top:14px;
    position:relative;
    z-index:4;
  }

  /* FINAL CLEAN CURSIVE PARAGRAPH (NO HYPHENS EVER) */
  .cursive{
    font-family:"Brush Script MT","Lucida Handwriting","Segoe Script",cursive;
    font-size:18px;
    line-height:1.6;
    color:#000;
    white-space:normal;
    margin:0;
    padding:0 8px;
    hyphens:none;
    -webkit-hyphens:none;
    -ms-hyphens:none;
    word-break:normal;
  }

  .decor-item{
    position:absolute;
    pointer-events:none;
    user-select:none;
  }

  @media(max-width:600px){
    h1{ font-size:26px; }
    .emoji{ font-size:44px; }
    .card-box{ padding:14px; }
    .subtitle{ font-size:16px; }
    .cursive{ font-size:17px; line-height:1.7; }
  }
</style>
</head>

<body>

<!-- Background emojis (soft) -->
<div id="decorLayer" class="global-decor"></div>

<!-- confetti layer (emojis falling) -->
<div id="confettiLayer" class="layer-confetti" aria-hidden="true"></div>

<!-- Heart rain backup -->
<div id="heartRain" class="heart-rain" aria-hidden="true"></div>

<!-- PAGE 1 -->
<div id="page1" class="page active">
  <div class="emoji">ğŸˆğŸ‰ğŸŒ¸ğŸ‚</div>
  <h1 id="title">Wishing You Happpiii Birthdayyyy Nidhi ğŸˆ</h1>

  <p class="subtitle">A little surprise waiting for you. Hope you'll like it.</p>

  <div class="card-box">
    <p style="margin:6px 0 12px;">Open the surprise and enjoy âœ¨</p>
    <button class="btn" onclick="nextPage()">Open Surprise ğŸ</button>
  </div>
</div>

<!-- PAGE 2 -->
<div id="page2" class="page">
  <h1>Just For You ğŸ’ğŸ‚</h1>

  <div class="muted-medium">Congratulations on your 19 or 20th birthday, I don't know your real age, so kindly adjust it ğŸ˜…</div>

  <div class="pastel-pink-desc card-box">
    May your birthday be sprinkled with warm sunshine, easy giggles, and those soft little smiles that show up without warning and make your whole day glow. And may this special day whisper to you gently but adorably that the world feels a tiny bit sweeter just because youâ€™re in it. ğŸ’›
  </div>

  <button class="btn" onclick="nextPage()" style="margin-top:14px;">Next âœ</button>
</div>

<!-- PAGE 3 -->
<div id="page3" class="page">
  <div class="emoji">ğŸ§™ğŸ»ğŸ¤ğŸ»</div>
  <h1>Make a Wish âœ¨</h1>

  <div class="card-box" style="text-align:left;">
    <p style="font-weight:600;margin-bottom:10px;">I may not know what youâ€™re wishing for, but I really hope the thing your heart is asking for reaches you soon. ğŸŒ·</p>
    <p style="margin:0 0 12px 0;">
      Close your eyes for a moment and make a small wish, the kind that quietly sits in your heart. Let it float out into the world, nice and easy. And I really hope it finds you today, in the simplest, sweetest wayâ€¦ and keeps bringing little moments of happiness your way for a long, long time. ğŸ¤ğŸ»ğŸ©·
    </p>
    <div style="text-align:center;"><button class="btn" onclick="nextPage()">Next âœ</button></div>
  </div>
</div>

<!-- PAGE 4 -->
<div id="page4" class="page">
  <div class="emoji">ğŸ’Œ</div>
  <h1>This is a small message from me ğŸ’Œ</h1>

  <div class="card-box" style="text-align:left;">
    <p class="cursive">
First of all, a Very Happy, Happy Birthday to you, Nidhi. Youâ€™ve probably forgotten me by now, but this is just a small gift from my side, something I hope brings a little smile to your face. I wonâ€™t say much, but wherever you are, I genuinely wish you happiness. Enjoy your special dayâ€¦ and your life too. I didnâ€™t add any photos of us because we donâ€™t really have any special pictures or memories together, and I even thought about taking a picture from your Instagram, but it felt like invading your privacy, so I chose not to. Also this is my first birthday card and I don't know too much â€” even if there is some mistake just ignore it like you ignore your DMs. About this cursive messageâ€¦ I wrote it that way because I got a little nervous while typing and I thought it might be hard for you to read, and you might leave it midway, but to be honest I really didn't want that. I just hope youâ€™ll like this small gesture, and even if we donâ€™t talk much anymore, I still wish that kindness and good things keep finding you. Take care, and once again have a beautiful birthday Nidhi ğŸ©·. ^_^
    </p>
  </div>
</div>

<script>
/* ---------- Basics & pages ---------- */
const params = new URLSearchParams(window.location.search);
const name = params.get('name') || 'Nidhi';
document.getElementById('title').innerText = `Wishing You Happpiii Birthdayyyy ${name} ğŸˆ`;

let page = 1;
function nextPage(){
  stopAllEffectsForPage(page);
  document.getElementById('page' + page).classList.remove('active');
  page++;
  if(!document.getElementById('page' + page)) page = 4;
  document.getElementById('page' + page).classList.add('active');
  startAllEffectsForPage(page);
}

/* ---------- Heart rain backup (optional) ---------- */
const heartContainer = document.getElementById("heartRain");
let heartInterval = null;
const heartEmojis = ['ğŸ’œ','ğŸ’›','ğŸ’™','â¤','ğŸ’š'];
function randomBetween(a,b){ return Math.random()*(b-a)+a; }
function createHeart(){
  const s=document.createElement('span');
  s.className='heart';
  s.innerText = heartEmojis[Math.floor(Math.random()*heartEmojis.length)];
  s.style.left = randomBetween(5,95) + 'vw';
  s.style.fontSize = Math.floor(randomBetween(16,32)) + 'px';
  const d = randomBetween(10,18);
  s.style.animationDuration = `${d}s, ${randomBetween(3,6)}s, 0.6s`;
  s.style.opacity = randomBetween(0.78,1);
  s.style.zIndex = 2;
  heartContainer.appendChild(s);
  setTimeout(()=>{ if(s.parentNode) s.remove(); }, (d+1)*1000);
}
function startHeartRain(){
  for(let i=0;i<8;i++) setTimeout(createHeart, i*260);
  if(!heartInterval){
    heartInterval = setInterval(()=>{
      const n = Math.random()>0.6 ? 2 : 1;
      for(let i=0;i<n;i++) createHeart();
    }, 700);
  }
}
function stopHeartRain(){
  if(heartInterval){ clearInterval(heartInterval); heartInterval = null; }
  document.querySelectorAll('#heartRain .heart').forEach(h=>h.remove());
}

/* ---------- Confetti system (emoji falling) ---------- */
const confettiLayer = document.getElementById('confettiLayer');
let confettiInterval = null;
let burstTimeouts = [];

// sets for each page
const sets = {
  1: ['ğŸ’œ','ğŸ’›','ğŸ’™','â¤','ğŸ’š','ğŸ’—','ğŸ’–'],
  2: ['ğŸ«','ğŸ’œ','ğŸ’›','ğŸ’™','â¤','ğŸ’š'],
  3: ['ğŸ’œ','ğŸ’›','ğŸ’™','â¤','ğŸ’š']
};

function spawnConfettiEmoji(emoji, leftVw, sizePx, fallDurationSec, swayDurationSec, rotateStart){
  const el = document.createElement('div');
  el.className = 'falling';
  el.innerText = emoji;
  el.style.left = leftVw + 'vw';
  el.style.fontSize = sizePx + 'px';
  // animation durations: fallDuration (single-run), swayDuration (infinite), fade in (0.4s)
  el.style.animationDuration = `${fallDurationSec}s, ${swayDurationSec}s, 0.45s`;
  el.style.opacity = 0;
  el.style.transform = `rotate(${rotateStart}deg)`;
  confettiLayer.appendChild(el);
  // cleanup after fall completes
  setTimeout(()=>{ if(el && el.parentNode) el.remove(); }, (fallDurationSec + 0.6) * 1000);
  return el;
}

function confettiBurstForPage(p, count = 40){
  const arr = sets[p] || sets[1];
  for(let i=0;i<count;i++){
    const left = Math.random()*100;
    const size = Math.floor(randomBetween(18,44));
    const dur = randomBetween(6,11); // burst pieces fall faster but still slow
    const sway = randomBetween(3.5,6);
    const rot = Math.floor(Math.random()*360);
    const emoji = arr[Math.floor(Math.random()*arr.length)];
    const t = setTimeout(()=> spawnConfettiEmoji(emoji, left, size, dur, sway, rot), Math.random()*240);
    burstTimeouts.push(t);
  }
}

function startConfettiRainForPage(p){
  stopConfettiRain(); // safety
  // spawn gently every tick
  confettiInterval = setInterval(()=>{
    const arr = sets[p] || sets[1];
    const n = Math.random() > 0.7 ? 3 : (Math.random()>0.5?2:1);
    for(let i=0;i<n;i++){
      const left = Math.random()*100;
      const size = Math.floor(randomBetween(18,38));
      const dur = randomBetween(9,16); // slow fall
      const sway = randomBetween(3.5,6);
      const rot = Math.floor(Math.random()*360);
      const emoji = arr[Math.floor(Math.random()*arr.length)];
      spawnConfettiEmoji(emoji, left, size, dur, sway, rot);
    }
  }, 600);
}

function stopConfettiRain(){
  if(confettiInterval){ clearInterval(confettiInterval); confettiInterval = null; }
  burstTimeouts.forEach(t=>clearTimeout(t));
  burstTimeouts = [];
  // remove existing confetti nodes
  document.querySelectorAll('#confettiLayer .falling').forEach(n=>n.remove());
}

/* ---------- Start/stop per page helpers ---------- */
function startAllEffectsForPage(p){
  if(p === 1){
    // page1: burst + slow rain + heart backup
    startHeartRain();
    confettiBurstForPage(1, 40); // initial burst
    setTimeout(()=> startConfettiRainForPage(1), 250); // then gentle rain
  } else if(p === 2){
    // page2: hearts + chocolate rain
    startConfettiRainForPage(2);
  } else if(p === 3){
    startConfettiRainForPage(3);
  } else {
    // page4: none
  }
}

function stopAllEffectsForPage(p){
  stopConfettiRain();
  stopHeartRain();
}

/* ---------- Background decorative emojis (soft) ---------- */
const decorChars = ['ğŸ«','ğŸˆ','â¤ï¸','ğŸ’š','ğŸ’™','ğŸ’œ','ğŸ’›'];
const decorLayer = document.getElementById('decorLayer');
function addDecor(n=44){
  decorLayer.innerHTML = '';
  for(let i=0;i<n;i++){
    const d = document.createElement('div');
    d.className = 'decor-item';
    d.innerText = decorChars[Math.floor(Math.random()*decorChars.length)];
    d.style.left = (Math.random()*100) + '%';
    d.style.top = (Math.random()*100) + '%';
    d.style.transform = `translate(-50%,-50%) rotate(${Math.random()*60-30}deg)`;
    d.style.fontSize = (22 + Math.random()*46) + 'px';
    d.style.opacity = (Math.random()*0.12 + 0.06);
    decorLayer.appendChild(d);
  }
}

/* ---------- Init ---------- */
window.addEventListener('load', ()=>{
  addDecor();
  startAllEffectsForPage(1); // start confetti for slide1 immediately
});
window.addEventListener('resize', ()=> addDecor());

/* small safety to avoid focus outlines causing scroll */
window.addEventListener('click', ()=>{ document.activeElement && document.activeElement.blur && document.activeElement.blur(); });

</script>

</body>
</html>
